[2018-05-08 09:04:18,716] INFO Verifying properties (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,799] INFO Property broker.id is overridden to 1 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,800] INFO Property log.cleaner.enable is overridden to false (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,801] INFO Property log.dirs is overridden to /tmp/kafka-logs-1 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,801] INFO Property log.retention.check.interval.ms is overridden to 60000 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,802] INFO Property log.retention.hours is overridden to 168 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,802] INFO Property log.segment.bytes is overridden to 536870912 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,803] INFO Property num.io.threads is overridden to 8 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,803] INFO Property num.network.threads is overridden to 2 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,803] INFO Property num.partitions is overridden to 2 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,804] INFO Property port is overridden to 9091 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,804] INFO Property socket.receive.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,805] INFO Property socket.request.max.bytes is overridden to 104857600 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,805] INFO Property socket.send.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,805] INFO Property zookeeper.connect is overridden to 172.31.34.212:2181 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,806] INFO Property zookeeper.connection.timeout.ms is overridden to 1000000 (kafka.utils.VerifiableProperties)
[2018-05-08 09:04:18,843] INFO [Kafka Server 1], starting (kafka.server.KafkaServer)
[2018-05-08 09:04:18,846] INFO [Kafka Server 1], Connecting to zookeeper on 172.31.34.212:2181 (kafka.server.KafkaServer)
[2018-05-08 09:04:19,127] INFO Found clean shutdown file. Skipping recovery for all logs in data directory '/tmp/kafka-logs-1' (kafka.log.LogManager)
[2018-05-08 09:04:19,135] INFO Starting log cleanup with a period of 60000 ms. (kafka.log.LogManager)
[2018-05-08 09:04:19,154] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)
[2018-05-08 09:04:19,235] INFO Awaiting socket connections on 0.0.0.0:9091. (kafka.network.Acceptor)
[2018-05-08 09:04:19,238] INFO [Socket Server on Broker 1], Started (kafka.network.SocketServer)
[2018-05-08 09:04:19,393] INFO Will not load MX4J, mx4j-tools.jar is not in the classpath (kafka.utils.Mx4jLoader$)
[2018-05-08 09:04:19,498] INFO conflict in /controller data: {"version":1,"brokerid":1,"timestamp":"1525770259403"} stored data: {"version":1,"brokerid":0,"timestamp":"1525765396962"} (kafka.utils.ZkUtils$)
[2018-05-08 09:04:19,816] INFO conflict in /brokers/ids/1 data: {"jmx_port":-1,"timestamp":"1525770259803","host":"ip-172-31-34-212.us-east-2.compute.internal","version":1,"port":9091} stored data: {"jmx_port":-1,"timestamp":"1525765448735","host":"ip-172-31-34-212.us-east-2.compute.internal","version":1,"port":9091} (kafka.utils.ZkUtils$)
[2018-05-08 09:04:19,854] INFO I wrote this conflicted ephemeral node [{"jmx_port":-1,"timestamp":"1525770259803","host":"ip-172-31-34-212.us-east-2.compute.internal","version":1,"port":9091}] at /brokers/ids/1 a while back in a different session, hence I will backoff for this node to be deleted by Zookeeper and retry (kafka.utils.ZkUtils$)
[2018-05-08 09:04:25,856] INFO conflict in /brokers/ids/1 data: {"jmx_port":-1,"timestamp":"1525770259803","host":"ip-172-31-34-212.us-east-2.compute.internal","version":1,"port":9091} stored data: {"jmx_port":-1,"timestamp":"1525765448735","host":"ip-172-31-34-212.us-east-2.compute.internal","version":1,"port":9091} (kafka.utils.ZkUtils$)
[2018-05-08 09:04:25,884] INFO I wrote this conflicted ephemeral node [{"jmx_port":-1,"timestamp":"1525770259803","host":"ip-172-31-34-212.us-east-2.compute.internal","version":1,"port":9091}] at /brokers/ids/1 a while back in a different session, hence I will backoff for this node to be deleted by Zookeeper and retry (kafka.utils.ZkUtils$)
[2018-05-08 09:04:27,013] INFO 1 successfully elected as leader (kafka.server.ZookeeperLeaderElector)
[2018-05-08 09:04:27,093] INFO New leader is 1 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)
[2018-05-08 09:04:31,886] INFO Registered broker 1 at path /brokers/ids/1 with address ip-172-31-34-212.us-east-2.compute.internal:9091. (kafka.utils.ZkUtils$)
[2018-05-08 09:04:31,913] INFO [Kafka Server 1], started (kafka.server.KafkaServer)
[2018-05-08 09:06:47,068] ERROR Closing socket for /172.31.34.212 because of error (kafka.network.Processor)
kafka.common.KafkaException: number of topics has value -1 which is not in the range (0,2147483647).
	at kafka.api.ApiUtils$.readIntInRange(ApiUtils.scala:85)
	at kafka.api.TopicMetadataRequest$.readFrom(TopicMetadataRequest.scala:41)
	at kafka.api.RequestKeys$$anonfun$4.apply(RequestKeys.scala:39)
	at kafka.api.RequestKeys$$anonfun$4.apply(RequestKeys.scala:39)
	at kafka.network.RequestChannel$Request.<init>(RequestChannel.scala:50)
	at kafka.network.Processor.read(SocketServer.scala:353)
	at kafka.network.Processor.run(SocketServer.scala:245)
	at java.lang.Thread.run(Thread.java:748)
[2018-05-08 09:21:35,164] INFO [Kafka Server 1], shutting down (kafka.server.KafkaServer)
[2018-05-08 09:21:35,168] INFO [Socket Server on Broker 1], Shutting down (kafka.network.SocketServer)
[2018-05-08 09:21:35,174] INFO [Socket Server on Broker 1], Shutdown completed (kafka.network.SocketServer)
[2018-05-08 09:21:35,178] INFO [Kafka Request Handler on Broker 1], shutting down (kafka.server.KafkaRequestHandlerPool)
[2018-05-08 09:21:35,199] INFO [Kafka Request Handler on Broker 1], shut down completely (kafka.server.KafkaRequestHandlerPool)
[2018-05-08 09:21:35,542] INFO [Replica Manager on Broker 1]: Shut down (kafka.server.ReplicaManager)
[2018-05-08 09:21:35,543] INFO [ReplicaFetcherManager on broker 1] shutting down (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:21:35,544] INFO [ReplicaFetcherManager on broker 1] shutdown completed (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:21:35,551] INFO [Replica Manager on Broker 1]: Shutted down completely (kafka.server.ReplicaManager)
[2018-05-08 09:24:15,298] INFO Verifying properties (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,380] INFO Property broker.id is overridden to 1 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,380] INFO Property log.cleaner.enable is overridden to false (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,381] INFO Property log.dirs is overridden to /tmp/kafka-logs-1 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,382] INFO Property log.retention.check.interval.ms is overridden to 60000 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,382] INFO Property log.retention.hours is overridden to 168 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,382] INFO Property log.segment.bytes is overridden to 536870912 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,382] INFO Property num.io.threads is overridden to 8 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,383] INFO Property num.network.threads is overridden to 2 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,383] INFO Property num.partitions is overridden to 2 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,383] INFO Property port is overridden to 9091 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,384] INFO Property socket.receive.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,384] INFO Property socket.request.max.bytes is overridden to 104857600 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,385] INFO Property socket.send.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,385] INFO Property zookeeper.connect is overridden to 172.31.34.212:2181 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,385] INFO Property zookeeper.connection.timeout.ms is overridden to 1000000 (kafka.utils.VerifiableProperties)
[2018-05-08 09:24:15,427] INFO [Kafka Server 1], starting (kafka.server.KafkaServer)
[2018-05-08 09:24:15,431] INFO [Kafka Server 1], Connecting to zookeeper on 172.31.34.212:2181 (kafka.server.KafkaServer)
[2018-05-08 09:24:15,717] INFO Found clean shutdown file. Skipping recovery for all logs in data directory '/tmp/kafka-logs-1' (kafka.log.LogManager)
[2018-05-08 09:24:15,722] INFO Starting log cleanup with a period of 60000 ms. (kafka.log.LogManager)
[2018-05-08 09:24:15,742] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)
[2018-05-08 09:24:15,826] INFO Awaiting socket connections on 0.0.0.0:9091. (kafka.network.Acceptor)
[2018-05-08 09:24:15,831] INFO [Socket Server on Broker 1], Started (kafka.network.SocketServer)
[2018-05-08 09:24:16,069] INFO Will not load MX4J, mx4j-tools.jar is not in the classpath (kafka.utils.Mx4jLoader$)
[2018-05-08 09:24:16,164] INFO conflict in /controller data: {"version":1,"brokerid":1,"timestamp":"1525771456082"} stored data: {"version":1,"brokerid":1,"timestamp":"1525770267009"} (kafka.utils.ZkUtils$)
[2018-05-08 09:24:16,443] INFO I wrote this conflicted ephemeral node [{"version":1,"brokerid":1,"timestamp":"1525771456082"}] at /controller a while back in a different session, hence I will backoff for this node to be deleted by Zookeeper and retry (kafka.utils.ZkUtils$)
[2018-05-08 09:24:22,449] INFO conflict in /controller data: {"version":1,"brokerid":1,"timestamp":"1525771456082"} stored data: {"version":1,"brokerid":0,"timestamp":"1525771461010"} (kafka.utils.ZkUtils$)
[2018-05-08 09:24:22,535] INFO conflict in /controller data: {"version":1,"brokerid":1,"timestamp":"1525771462533"} stored data: {"version":1,"brokerid":0,"timestamp":"1525771461010"} (kafka.utils.ZkUtils$)
[2018-05-08 09:24:22,577] INFO Registered broker 1 at path /brokers/ids/1 with address ip-172-31-34-212.us-east-2.compute.internal:9091. (kafka.utils.ZkUtils$)
[2018-05-08 09:24:22,616] INFO [Kafka Server 1], started (kafka.server.KafkaServer)
[2018-05-08 09:24:22,659] INFO New leader is 0 (kafka.server.ZookeeperLeaderElector$LeaderChangeListener)
[2018-05-08 09:27:05,226] INFO [ReplicaFetcherManager on broker 1] Removed fetcher for partitions [test000,0] (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:27:05,262] INFO Completed load of log test000-0 with log end offset 0 (kafka.log.Log)
[2018-05-08 09:27:05,268] INFO Created log for partition [test000,0] in /tmp/kafka-logs-1 with properties {segment.index.bytes -> 10485760, file.delete.delay.ms -> 60000, segment.bytes -> 536870912, flush.ms -> 9223372036854775807, delete.retention.ms -> 86400000, index.interval.bytes -> 4096, retention.bytes -> -1, cleanup.policy -> delete, segment.ms -> 604800000, max.message.bytes -> 1000012, flush.messages -> 9223372036854775807, min.cleanable.dirty.ratio -> 0.5, retention.ms -> 604800000}. (kafka.log.LogManager)
[2018-05-08 09:27:05,268] WARN Partition [test000,0] on broker 1: No checkpointed highwatermark is found for partition [test000,0] (kafka.cluster.Partition)
[2018-05-08 09:34:53,659] INFO Closing socket connection to /172.31.34.212. (kafka.network.Processor)
[2018-05-08 09:38:53,916] ERROR Closing socket for /172.31.34.212 because of error (kafka.network.Processor)
java.io.IOException: Connection reset by peer
	at sun.nio.ch.FileDispatcherImpl.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:197)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:384)
	at kafka.utils.Utils$.read(Utils.scala:375)
	at kafka.network.BoundedByteBufferReceive.readFrom(BoundedByteBufferReceive.scala:54)
	at kafka.network.Processor.read(SocketServer.scala:347)
	at kafka.network.Processor.run(SocketServer.scala:245)
	at java.lang.Thread.run(Thread.java:748)
[2018-05-08 09:50:12,662] INFO Verifying properties (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,701] INFO Property broker.id is overridden to 1 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,701] INFO Property log.cleaner.enable is overridden to false (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,701] INFO Property log.dirs is overridden to /tmp/kafka-logs-1 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,701] INFO Property log.retention.check.interval.ms is overridden to 60000 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,702] INFO Property log.retention.hours is overridden to 168 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,702] INFO Property log.segment.bytes is overridden to 536870912 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,702] INFO Property num.io.threads is overridden to 8 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,702] INFO Property num.network.threads is overridden to 2 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,702] INFO Property num.partitions is overridden to 2 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,703] INFO Property port is overridden to 9091 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,703] INFO Property socket.receive.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,703] INFO Property socket.request.max.bytes is overridden to 104857600 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,703] INFO Property socket.send.buffer.bytes is overridden to 1048576 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,704] INFO Property zookeeper.connect is overridden to 172.31.34.212:2181 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,704] INFO Property zookeeper.connection.timeout.ms is overridden to 1000000 (kafka.utils.VerifiableProperties)
[2018-05-08 09:50:12,723] INFO [Kafka Server 1], starting (kafka.server.KafkaServer)
[2018-05-08 09:50:12,725] INFO [Kafka Server 1], Connecting to zookeeper on 172.31.34.212:2181 (kafka.server.KafkaServer)
[2018-05-08 09:50:13,001] INFO Loading log 'test000-0' (kafka.log.LogManager)
[2018-05-08 09:50:13,020] INFO Recovering unflushed segment 0 in log test000-0. (kafka.log.Log)
[2018-05-08 09:50:13,030] INFO Completed load of log test000-0 with log end offset 3 (kafka.log.Log)
[2018-05-08 09:50:13,044] INFO Starting log cleanup with a period of 60000 ms. (kafka.log.LogManager)
[2018-05-08 09:50:13,047] INFO Starting log flusher with a default period of 9223372036854775807 ms. (kafka.log.LogManager)
[2018-05-08 09:50:13,062] INFO Awaiting socket connections on 0.0.0.0:9091. (kafka.network.Acceptor)
[2018-05-08 09:50:13,063] INFO [Socket Server on Broker 1], Started (kafka.network.SocketServer)
[2018-05-08 09:50:13,151] INFO Will not load MX4J, mx4j-tools.jar is not in the classpath (kafka.utils.Mx4jLoader$)
[2018-05-08 09:50:13,176] INFO conflict in /controller data: {"version":1,"brokerid":1,"timestamp":"1525773013160"} stored data: {"version":1,"brokerid":0,"timestamp":"1525772974651"} (kafka.utils.ZkUtils$)
[2018-05-08 09:50:13,247] INFO Registered broker 1 at path /brokers/ids/1 with address ip-172-31-34-212.us-east-2.compute.internal:9091. (kafka.utils.ZkUtils$)
[2018-05-08 09:50:13,272] INFO [Kafka Server 1], started (kafka.server.KafkaServer)
[2018-05-08 09:50:13,532] INFO [ReplicaFetcherManager on broker 1] Removed fetcher for partitions [test000,0] (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:50:13,569] INFO [ReplicaFetcherManager on broker 1] Removed fetcher for partitions [test000,0] (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:52:32,166] INFO Completed load of log test001-0 with log end offset 0 (kafka.log.Log)
[2018-05-08 09:52:32,170] INFO Created log for partition [test001,0] in /tmp/kafka-logs-1 with properties {segment.index.bytes -> 10485760, file.delete.delay.ms -> 60000, segment.bytes -> 536870912, flush.ms -> 9223372036854775807, delete.retention.ms -> 86400000, index.interval.bytes -> 4096, retention.bytes -> -1, cleanup.policy -> delete, segment.ms -> 604800000, max.message.bytes -> 1000012, flush.messages -> 9223372036854775807, min.cleanable.dirty.ratio -> 0.5, retention.ms -> 604800000}. (kafka.log.LogManager)
[2018-05-08 09:52:32,174] WARN Partition [test001,0] on broker 1: No checkpointed highwatermark is found for partition [test001,0] (kafka.cluster.Partition)
[2018-05-08 09:52:32,177] INFO [ReplicaFetcherManager on broker 1] Removed fetcher for partitions [test001,0] (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:52:32,182] INFO Truncating log test001-0 to offset 0. (kafka.log.Log)
[2018-05-08 09:52:32,233] INFO [ReplicaFetcherManager on broker 1] Added fetcher for partitions ArrayBuffer([[test001,0], initOffset 0 to broker id:0,host:ip-172-31-34-212.us-east-2.compute.internal,port:9090] ) (kafka.server.ReplicaFetcherManager)
[2018-05-08 09:52:32,236] INFO [ReplicaFetcherThread-0-0], Starting  (kafka.server.ReplicaFetcherThread)
[2018-05-08 09:56:33,710] INFO Closing socket connection to /172.31.34.212. (kafka.network.Processor)
